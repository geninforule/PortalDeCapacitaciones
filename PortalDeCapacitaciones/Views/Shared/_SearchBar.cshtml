<nav>
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-center" id="navbarNav">
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Selecciona la categoría
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <li><a class="dropdown-item" href="/search?category=category1">Categoría 1</a></li>
                        <li><a class="dropdown-item" href="/search?category=category2">Categoría 2</a></li>
                        <li><a class="dropdown-item" href="/search?category=category3">Categoría 3</a></li>

                        <li class="dropdown-submenu">
                            <a class="dropdown-item dropdown-toggle" href="#">Categoría 4</a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="/search?category=subcategory1">SubCategoría 1</a></li>
                                <li><a class="dropdown-item" href="/search?category=subcategory2">SubCategoría 2</a></li>
                                <li><a class="dropdown-item" href="/search?category=subcategory3">SubCategoría 3</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
            <form class="d-flex ms-3" action="/search" method="get">
                <input class="form-control me-2" type="search" name="query" placeholder="Buscar" aria-label="Buscar">
                <button class="btn btn-outline-dark" type="submit">Buscar</button>
            </form>
        </div>
    </div>
</nav>

<!-- CSS for dropdown submenu -->
<style>
    .dropdown-submenu {
        position: relative;
    }

        .dropdown-submenu .dropdown-menu {
            top: 0;
            left: 100%;
            margin-top: -6px;
            margin-left: -1px;
            border-radius: .25rem;
            border: 1px solid rgba(0,0,0,.125);
            display: none; /* Hide by default */
        }

        .dropdown-submenu:hover .dropdown-menu {
            display: block; /* Show on hover */
        }
</style>

<!-- JavaScript for dropdown submenu behavior -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        var dropdownSubmenus = document.querySelectorAll('.dropdown-submenu');

        dropdownSubmenus.forEach(function (submenu) {
            submenu.addEventListener('mouseover', function () {
                var dropdownMenu = submenu.querySelector('.dropdown-menu');
                dropdownMenu.classList.add('show');
            });

            submenu.addEventListener('mouseout', function () {
                var dropdownMenu = submenu.querySelector('.dropdown-menu');
                dropdownMenu.classList.remove('show');
            });
        });
    });
</script>
